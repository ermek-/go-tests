# go-api-tests (with logging)

Минимальный шаблон Go-проекта для API-тестов **на stdlib** (без внешних зависимостей) + полный HTTP‑логгер транспорта.

## Запуск
```bash
cp .env.example .env
# поправьте значения под ваш сервис
go test -v ./...
```

## Логирование
Управляется переменными `.env`:
- `LOG_HTTP=1` — включить лог транспорта
- `LOG_HTTP_BODY=1` — логировать тела запросов/ответов (аккуратно с секретами)
- `LOG_MAX_BYTES=8192` — ограничение длины логируемого тела

Логи выводятся непосредственно в стандартный вывод (консоль).

Логируется:
- Метод, URL, статус, время
- Заголовки (Authorization/Cookie редактируются)
- Тела (опционально), с восстановлением `Body`

## Структура
```
.
├── .env.example
├── go.mod
├── internal
│   ├── api
│   │   ├── client.go
│   │   └── logging.go
│   └── env
│       └── env.go
└── tests
    ├── main_test.go
    └── crud_test.go
```
